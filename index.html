<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gepeto Shorts</title>

<style>
body {
  background:#000;
  color:#fff;
  font-family: Arial, sans-serif;
  padding:20px;
}
select, input, button {
  width:100%;
  padding:14px;
  margin:10px 0;
  border-radius:6px;
  border:none;
  font-size:16px;
}
button {
  background:#e50914;
  color:#fff;
  font-weight:bold;
}
pre {
  background:#000;
  padding:15px;
  border-radius:6px;
  white-space:pre-wrap;
}
</style>
</head>

<body>

<h2>üé¨ Gepeto Shorts</h2>

<select id="categoria">
  <option value="">Categoria</option>
  <option value="Anime">Anime</option>
  <option value="Tecnologia">Tecnologia</option>
  <option value="B√≠blico">B√≠blico</option>
  <option value="Curiosidades">Curiosidades</option>
</select>

<input id="tema" placeholder="Tema do v√≠deo (ex: Naruto)" />

<select id="plataforma">
  <option value="">Plataforma</option>
  <option value="YouTube Shorts">YouTube Shorts</option>
  <option value="Instagram Reels">Instagram Reels</option>
  <option value="TikTok">TikTok</option>
</select>

<select id="duracao">
  <option value="">Dura√ß√£o</option>
  <option value="15 segundos">15 segundos</option>
  <option value="30 segundos">30 segundos</option>
  <option value="58 segundos">58 segundos</option>
</select>

<select id="estilo">
  <option value="">Estilo</option>
  <option value="√âpico">√âpico</option>
  <option value="Dark Viral">Dark Viral</option>
  <option value="Inspirador">Inspirador</option>
</select>

<button onclick="gerar()">GERAR SHORT</button>

<div id="resultado"></div>

<script>
const WEBHOOK_URL = "https://wjr.app.n8n.cloud/webhook/gerar";

function gerar() {
  console.log("BOT√ÉO CLICADO");

  const categoria  = document.getElementById("categoria").value;
  const tema       = document.getElementById("tema").value.trim();
  const plataforma = document.getElementById("plataforma").value;
  const duracao    = document.getElementById("duracao").value;
  const estilo     = document.getElementById("estilo").value;

  const resultado = document.getElementById("resultado");

  if (!categoria || !tema || !plataforma || !duracao || !estilo) {
    resultado.innerHTML = "‚ö†Ô∏è Preencha todos os campos.";
    return;
  }

  resultado.innerHTML = "‚è≥ Gerando roteiro viral...";

  fetch(WEBHOOK_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      categoria,
      tema,
      plataforma,
      duracao,
      estilo
    })
  })
  .then(res => res.json())
  .then(data => {
    const texto =
      data?.output?.[0]?.content?.[0]?.text ||
      data?.roteiro;

    if (!texto) {
      resultado.innerHTML = "‚ùå IA respondeu sem roteiro.";
      console.log(data);
      return;
    }

    resultado.innerHTML = `
<pre>${texto}</pre>
<button onclick="copiar()">üìã COPIAR PARA CAPCUT</button>
`;
  })
  .catch(err => {
    console.error(err);
    resultado.innerHTML = "‚ùå Erro ao conectar.";
  });
}

function copiar() {
  const texto = document.querySelector("pre").innerText;
  navigator.clipboard.writeText(texto);
  alert("Roteiro copiado!");
}
</script>

</body>
</html>